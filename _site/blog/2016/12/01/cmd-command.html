<!DOCTYPE html>
<html lang="uk">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9">
  <!--[if IE]><meta http-equiv="refresh" content="1;url=_index_ie.html"><![endif]-->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Командний рядок Windows. Деякі команди.</title>
  <meta name="author" content="Nicolas Yurchuk" >
  <meta name="keywords" content="ubuntu, windows, elementary, itblog, samba, tweak ">
  <meta name="description" content="Архів мануалів та дурних думок, щоб не забути.">
  <meta name="robots" content="all">
  <meta name="dcterms.dateCopyrighted" content="2016">
  <link rel="alternate" type="application/rss+xml" title="ITJunta RSS" href="/feed.xml">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/img/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/img/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/img/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/img/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/img/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/img/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
  <link rel="manifest" href="/img/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/img/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <script src="/js/jquery.min.js"></script>
  <script src="/js/jquery.lazyload.mini.js"></script>
  <script src="/js/jquery.colorbox-min.js"></script>
  <script src="/js/largimg.js"></script>
  <link type="application/atom+xml" rel="alternate" href="http://192.168.7.13:4000/feed.xml" />
</head>


</head>

<body>
<div class="list">
  <div class="nav">
		<ul class="topnav">
			<li><a href="/#"><b>IT Junta</b></a></li>
			<li><a href="/index.html">Основна</a></li>
			<li><a class="active" href="/blog.html">Блог</a></li>
		</ul>
  </div>

<div class="container">
      <div class="container">
  <h1>Командний рядок Windows. Деякі команди.</h1>
  <div class="blog-post spacing">
    <img class="head" src="/media/bash.png" alt="">
<p>Набір корисних і дуже корисних команд, котрі забуваються в силу того що це Windows і вони рідко використовуються.<!--more--></p>
<h4>Стати власником директорії, всіх файлів та піддиректорій</h4><br>
<pre><code>takeown /F об'єкт /R
F - шаблон імені файлу чи директорії
R - примінити до всіх вкладених об'єктів</code></pre>
<h4>Отримати повний доступ до директорії, всіх файлів та піддиректорій</h4><br>
<pre><code>icacls директорія /grant %username%:(OI)(CI)F /T
F - повний доступ
OI - всі НОВІ файли успадковують задані тут дозволи
CI - всі НОВІ піддиректорії успадковують задані тут дозволи
T - всі ІСНУЮЧІ файли та піддиректорії успадковують задані тут дозволи</code></pre>
<h4>Кастомізація виводу дати і часу</h4>
<p>Зразу приклад скрипта:</p>
<pre><code>@echo off
set h=%TIME:~0,2%
set m=%TIME:~3,2%
set s=%TIME:~6,2%
set ms=%TIME:~9,2%
set curtime=%h%:%m%:%s%:%ms%

set dd=%DATE:~0,2%
set mm=%DATE:~3,2%
set yyyy=%DATE:~8,2%
set curdate=%dd%-%mm%-%yyyy%
set curdatetime=%curdate% %curtime%

echo Current data and time - %curdatetime%</code></pre>
<p>Суть у тому що після символу :~ перша цифра вказує починаючи з якого символу стандартної видачі брати значення, а друга кількість символів. По такому ж шаблону можна при бажанні працювати з будь-якими системними змінними.</p>
<h4>Цикл FOR</h4>
<p>В загальному синтаксис наступний:</p>
<pre><code>for %%змінна in (файли) do дія - для роботи з файлами
for /D %%змінна in (каталоги) do дія - для роботи з каталогами
for /R [шлях] %%змінна in (файли) do дія - для роботи з файлами у підкаталогах
for /L %%змінна in (початок, крок, кінець) do дія - виконання дій в циклі обмеженої довжини що задається початковим і кінцевим значенням та кроком піж ними</code></pre>
<p>Деякі приклади:<br>
Створюємо 6 директорій з іменами від 0 до 5</p>
<pre><code>@echo off
for /L %%i in (0, 1, 5) do mkdir %%i</code></pre>
<p>Виводимо вміст всіх текстових файлів у директорії %temp%</p>
<pre><code>@echo off
for %%i in (%temp%\*.txt) do (echo %%i)</code></pre>
<p>Вивести всі піддиректорії з директорій %appdata% та %temp%</p>
<pre><code>@echo off
for /D %%i in (%appdata%\* %temp%\*) do echo %%i</code></pre>
<p>Вивести всі txt- та md-файли з директорії %temp%</p>
<pre><code>@echo off
for /R %temp% %%i in (*.txt *.md) do echo %%i</code></pre>
<p>Вивести всі піддиректорії з директорії %temp%</p>
<pre><code>@echo off
for /R %temp% /d %%i in (*) do echo %%i</code></pre>
<h4>Визначення mac-адреси</h4>
<ol>
<li>windows - getmac</li>
<li>linux - arp-scan</li>
</ol>

</div>
</div>

</div>

  <div class="nav">
		<ul class="topnav">
			<li><p></p></li>
			<li class="right"><a href="mailto:nicolas.yurchuk@gmail.com" target="_blank">© 2016 ITJunta</a></li>
		</ul>
  </div>
</div>
</body>
</html>
