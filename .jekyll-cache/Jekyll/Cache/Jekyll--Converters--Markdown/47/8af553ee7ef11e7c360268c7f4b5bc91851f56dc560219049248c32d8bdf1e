I"`#<p><img src="/media/linux.jpg?style=head" alt="linux logo" /><br />
Набір костилів для <term>Linux-систем</term>.<!--more--></p>
<h4 id="elementary-os">Elementary OS</h4>
<p><strong>Elementary OS Loky</strong> відмовляється приймати адміністративний пароль при установці пакету <term>HP Linux Imaging and Printing</term>.
Лікується перезаданням пароля для рута використовуючи термінал.</p>

<figure class="highlight"><pre><code class="language-terminal" data-lang="terminal"><span class="gp">    sudo passwd $</span>ваш_пароль_для_root</code></pre></figure>

<p>В <strong>Elementary OS Juno</strong> за замовчуванням не відображаються значки сторонніх програм в аплеті індикатора.<br />
Лікується установкою та налаштуванням пакетів <strong>indicator-application</strong> та <strong>wingpanel-indicator-ayatana</strong>.</p>
<ul>
  <li>Установка</li>
</ul>

<figure class="highlight"><pre><code class="language-terminal" data-lang="terminal"><span class="go">    sudo add-apt-repository ppa:yunnxx/elementary
    sudo apt update
    sudo apt install indicator-application wingpanel-indicator-ayatana</span></code></pre></figure>

<ul>
  <li>У файлі <path>/etc/xdg/autostart/indicator-application.desktop</path> в рядок <strong>OnlyShowIn=Unity;GNOME;</strong> дописуємо <strong>Pantheon</strong>;</li>
  <li>Даємо можливість запуску простим користувачам:</li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">    <span class="nb">sudo cp</span> /usr/lib/systemd/user/indicator-application.service /etc/systemd/user</code></pre></figure>

<ul>
  <li>Додаємо команду <strong>systemctl –user start indicator-application.service</strong> до автозапуску;</li>
  <li>Перелогінюємося.</li>
</ul>

<h4 id="vnc-доступ-до-робочого-столу-ubuntu-1604">VNC доступ до робочого столу Ubuntu 16.04</h4>
<p>Не достатньо видати права на підключення використовуючи <term>Desktop Sharing</term>. При спробі приєднатися, як мінімум з <term>Windows</term> будемо отримувати <strong>Server did not offer supported security type!</strong>.<br />
Встановлюємо <term>dconf Editor</term> та вимикаємо вимогу шифрування з’єднання.</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">    <span class="nb">sudo </span>apt <span class="nb">install </span>dconf-editor
    gsettings <span class="nb">set </span>org.gnome.desktop.remote-access require-encryption <span class="nb">false</span></code></pre></figure>

<h4 id="ubuntu-1604-і-ядро-413хх">Ubuntu 16.04 і ядро 4.13.х.х</h4>
<p>На <strong>Intel NUC</strong> Якогось чорта система перестає завантажуватися після оновлення ядра до будь-якої версії <strong>4.13.х.х.</strong> Теоретично пишуть повинно допомогти підключення репозиторію <strong>ppa:canonical-kernel-team/ppa</strong> і оновлення ядра з нього, але мені не допомогло. Тому</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">    <span class="nb">sudo </span>apt remove <span class="nt">--purge</span> linux-image-4.13<span class="k">*</span>
    <span class="nb">sudo </span>update-grub2
    <span class="nb">sudo </span>reboot</code></pre></figure>

<h4 id="vnc-у-mint-xfce-1804">VNC у Mint XFCE 18.04+</h4>
<p>Виявляється <term>vino</term> уже не є пакетом встановленим з коробки</p>

<ul>
  <li>Доставляємо:</li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">    <span class="nb">sudo </span>apt <span class="nb">install </span>dconf-editor vino</code></pre></figure>

<ul>
  <li>Переходимо в розділ <path>/gnome/desktop/remote-access</path> там все досить очевидно, питання тільки у заданні пароля для авторизованого доступу</li>
  <li>Пароль для авторизованого доступу задається шифрованим у кодуванні <strong>Base64</strong>. Згенерувати його можна <a href="https://www.base64encode.org/" title="Base64">тут</a>.<br />
<strong>authentication-method</strong> при цьому ставимо <strong>vnc</strong></li>
  <li>Додаємо службу <path>/usr/lib/vino/vino-server</path> в автозапуск.</li>
</ul>

<h4 id="видалення-vmware-horizon-client">Видалення Vmware Horizon Client</h4>
<p>Якщо є інсталяційний пакет:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">    <span class="nb">sudo</span> ./VMware-Horizon-Client-x.x.x-yyyyyyy.bundle <span class="nt">-u</span> vmware-horizon-client</code></pre></figure>

<p>або, якщо нема інсталяційного пакету:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">    <span class="nb">sudo </span>vmware-installer <span class="nt">--uninstall-product</span> vmware-horizon-client
    </code></pre></figure>

<p>Через vmware-installer також можна видалити якийсь 1 компонент чи інший продукт VMWare. Подивитися їх список можна так:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">    <span class="nb">sudo </span>vmware-installer <span class="nt">--list-products</span>
    <span class="nb">sudo </span>vmware-installer <span class="nt">--list-components</span></code></pre></figure>

<h4 id="add-apt-repository">add-apt-repository</h4>
<p>Була необхідність передати із Zenity для add-apt-repository кілька репозиторіїв для додавання, а стандартний скрипт уміє додавати лише по одному. Як варіант модифікації, тимчасової чи постійної, можна використовувати таку.</p>
<ul>
  <li>Шукаємо де знаходиться команда</li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">    which add-apt-repository</code></pre></figure>

<p>як правило це <path>/usr/bin/apt-add-repository</path></p>
<ul>
  <li>Робимо бекап</li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">    <span class="nb">sudo mv</span> /usr/bin/add-apt-repository /usr/bin/add-apt-repository.single</code></pre></figure>

<ul>
  <li>Створюємо новий файл з наступним вмістом</li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">    <span class="c">#! /bin/shell
</span>
    <span class="k">for </span>i <span class="k">in</span> <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span><span class="p">;</span> <span class="k">do</span>
    /usr/bin/add-apt-repository.single <span class="s2">"</span><span class="nv">$i</span><span class="s2">"</span>
    <span class="k">done</span></code></pre></figure>

<ul>
  <li>Робимо файл виконуваним</li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">    <span class="nb">chmod </span>a+rx /usr/bin/add-apt-repository</code></pre></figure>

<h4 id="xfce4-weather-plugin-no-data">xfce4-weather-plugin: No Data</h4>
<p>Після зміни версії API на <strong>https://apt.met.no/</strong> в дистрибутивах на базі <strong>Ubuntu 18.04</strong> перестав працювати <strong>xfce4-weather-plugin</strong>.<!--more--> Найпростіший спосіб заміна <path>libweather.so</path> на нову перекомпільовану версію.
Зроблено по <a href="https://askubuntu.com/questions/1274259/xfce4-weather-plugin-for-xubuntu-18-04-stopped-working" title="askubuntu">статті</a>.</p>

<p>Забрати готовий файл можна за посиланням з оригінального обговорення чи <a href="https://github.com/nyurch/nyurch.github.io/tree/master/files/libweather.so" title="libweather.so">тут</a>
помістити його за адресою <path>/usr/lib/x86_64-linux-gnu/xfce4/panel/plugins/libweather.so</path> та перезавантажити плагін.</p>
:ET