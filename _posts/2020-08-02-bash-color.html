---
layout: post
title: Кольори в bash.
category: [LINUX]
---
<img class="head" src="/media/tilda.jpg" alt="">
<p>Зібрався трохи оптимізувати і розфарбувати запрошення командного рядку в терміналі нововстановленого <term>Linux Mint 20</term> і зрозумів що рядок <xmp class="lst">export PS1='${debian_chroot:+($debian_chroot)}\[\033[00;32m\]\D{ %m/%d/%Y }\A \[\033[01;31m\]\u\[\033[00m\]:\[\033[01;36m\]\w\[\033[00m\]\$ '</xmp> за роки перетворився в набір малозрозумілої абракадабри. А тому вимагає певного відновлення знань, та і взагалі приведення до більш зручноподаного виду.<!--more--></p>
<p>Отже кольори та параметри в <b>bash</b> у застосуванні до наступної задачі - замінити стандартне запрошення виду</p>
<xmp class="bsh">user@host:folder</xmp>
<p>на власне, додавши час перед іменем користувача та використавши для тексту 3 секцій(час, користувач/ім'я комп'ютера, директорія) 3 різних кольори і подати це у вигляді який з часом не перетвориться на абракадабру.</p>
<p>Базові змінні:</p>
<ul>
	<li>\D{ %m/%d/%Y } - дата у форматі місяць/день/рік </li>
	<li>\A - час у 24-годинному форматі години:хвилини</li>
	<li>\u - ім'я користувача</li>
	<li>\h - ім'я ПК</li>
	<li>\W - поточна директорія</li>
</ul>
<p>Є 2 підходи - стандартний і використовуючи команду <b>tput</b></p>
<h4>Стандартний підхід</h4>
<ol>
	<li>\e[ - символ початку кольору</li>
	<li>\e[m - символ кінця кольору</li>	
	<li>x;ym - код кольору</li>
			<ul>
				<li>y = 30 - чорний</li>
				<li>y = 31 - червоний</li>
				<li>y = 32 - зелений</li>
				<li>y = 33 - жовтий</li>
				<li>y = 34 - синій</li>
				<li>y = 35 - фіолетовий</li>
				<li>y = 36 - не можу характеризувати :) </li>
				<li>y = 37 - білий </li>
			</ul>
			<ul>
				<li>x може бути 0 чи 1, шрифт тонший і темніший чи товстий і світліший</li>
			</ul>
</ol>
<p>Для зручності зразу переводимо це у формат зрозумілих змінних:</p>
<ol>
	<li>BLACK='\e[1;30[m'</li>
	<li>RED='\e[1;31[m'</li>
	<li>GREEN='\e[1;32[m'</li>
	<li>YELLOW='\e[1;33[m'</li>
	<li>BLUE='\e[1;34[m'</li>
	<li>PURPLE='\e[1;35[m'</li>
	<li>CYAN='\e[1;36[m'</li>
	<li>WHYTE='\e[1;37[m'</li>
	<li>END='\e[m'</li>
</ol>
<p>В результаті в <path>.bashrc</path> додаємо секцію:</p>
<xmp class="lst">	RED="\e[1;31\[m";
	GREEN="\e[1;32\[m";
	YELLOW="\e[1;33\[m";
	BLUE="\e[1;34\[m";
	PURPLE="\e[1;35\[m";
	CYAN="\e[1;36\[m";
	WHYTE="\e[1;37\[m";
	END="\e\[m"
	export PS1="$BLUE[\D{ %m/%d/%Y } \A] $RED\u@\h $YELLOW\W $WHYTE"
</xmp>
<p>Звертаємо увагу на необхідність екранування символу [ перед m. А також на те що $END я не використовую.</p>
<h4>TPUT підхід</h4>
<ol>
	<li>tput bold - товстий шрифт</li>
	<li>tput setab Х - колір фону</li>
	<li>tput setaf Х - колір шрифту</li>
	<li>tput sgr0 - кінець стилю</li>
</ol>
<p>Коди кольорів</p>
<ol>
	<li>0 - чорний</li>
	<li>1 - червоний</li>
	<li>2 - зелений</li>
	<li>3 - жовтий</li>
	<li>4 - синій</li>
	<li>5 - фіолетовий</li>
	<li>6 - неясний :)</li>
	<li>7 - білий</li>
</ol>
<p>В результаті в <path>.bashrc</path> додаємо наприклад таку секцію:</p>
<xmp class="lst">export PS1="\[$(tput bold)$(tput setab 7)$(tput setaf 5)\][\D{ %m/%d/%Y } \A] \[$(tput setaf 1)\]\u@\h:\[$(tput setaf 4)\]\w $ \[$(tput sgr0)\] "</xmp>
<p>Звертаємо увагу на необхідність екранування символів [].</p>