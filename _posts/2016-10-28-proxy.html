---
layout: post
title: Linux & proxy.
category: blog
---
<img class="head" src="/media/proxy.png" alt="">
<p>Так вже чомусь склалося, що здається в кожному більш-менш розповсюдженому на сьогодні дистрибутиві користувач обов'язково зіткнеться може зіткнутися з різними нюансами у випадку якщо для виходу в інтернет потрібно використовувати проксі-сервер.
Думаю не зайвим буде нагадати певні очевидні речі котрі стосуються мережевих налаштувань, та вказати на деякі не настільки очевидні. <!--more-->
<h4>Базові налаштування</h4>
<ol>
<li>Налаштування проксі для конкретного користувача зберігаються у <b class="path">~/.bashrc</b> у наступному вигляді
<pre><code>export http_proxy="http://yourusername:yourpassword@yourproxy:yourport"
export https_proxy="http://yourusername:yourpassword@yourproxy:yourport"
export ftp_proxy="http://yourusername:yourpassword@yourproxy:yourport"</code></pre></li>
<li>Налаштування проксі для роботи <b class="term">wget</b> знаходяться у <b class="path">/etc/wgetrc</b> у вигляді
<pre><code>https_proxy = http_proxy="http://yourusername:yourpassword@yourproxy:yourport/"
http_proxy = http_proxy="http://yourusername:yourpassword@yourproxy:yourport/"
ftp_proxy = http_proxy="http://yourusername:yourpassword@yourproxy:yourport/"
use_proxy = on</code></pre></li>
<li>Щоб проксі підхватувалося при виконанні команди через <b>sudo</b> треба поправити файл <b class="path">/etc/sudoers</b> додавши
<pre><code>Defaults env_keep += "http_proxy https_proxy ftp_proxy all_proxy no_proxy"</code></pre></li>
<li>Буває для apt ще потрібно створити файл <b class="path">/etc/apt/apt.conf.d/02proxy</b> з указанням проксі
<pre><code>Acquire::http::Proxy "http://yourusername:yourpassword@yourproxy:yourport";</code></pre></li>
</ol>
<h4>git</h4>
<p>Для того щоб git використовував проксі необхідно створити файл конфігурації та прописати цей проксі там</p>
<code><pre>cd ~
touch .gitconfig
git config --global http.proxy http://proxyuser:proxypass@proxyaddress:8080</pre></code>
<h4>ntlm-авторизація</h4>
<p>якщо у вас використовується проксі-сервер з авторизацією можуть виникнути певні проблеми з програмами що системні налаштування ігнорують, а самі авторизуватися не вміють. Обійти це можна використовуючи програми на зразок <b class="term">ntlmaps</b>. Він сам авторизуватиметься на сервері і виступатиме далі в ролі проксі-сервера для "внутрішнього" використання. В такому разі проксі в нас буде<b class="path"> http://127.0.0.1:5865</b>. Також даний спосіб має цікаву й корисну можливість використовувати ваш ПК у якості проксі-сервера і для інших комп'ютерів якщо вказати у файлі конфігурації <b class="path">/etc/ntlmaps/server.cfg</b></p>
<pre><code>ALLOW_EXTERNAL_CLIENTS:1</code></pre>
