---
layout: post
title: Налаштування операційних систем для роботи з ssd.
category: [LINUX]
---
<img class="head" src="/media/ssd.png"  alt="">
<p>З поширенням ssd виникають деякі моменти по налаштуванню та оптимізації операційних систем для більш ефективної роботи дискової системи та збереженню ресурсу дисків.<!--more--> Перший момент - спільний для всіх систем, диск повинен працювати в режимі <b>AHCI</b>, другий момент - повинна бути активована команда <a href="https://uk.wikipedia.org/wiki/TRIM" target="_blank">TRIM</a> в самій операційній системі. Як це перевірити і при необхідності ввімкнути:</p>
<h4>Linux</h4>
<p>Ядро системи повинно бути новіше за 2.6.33, повинна використовуватися файлова система <b>BTRFS</b>, <b>XFS</b>, <b>JFS</b> чи <b>EXT4</b>. Диск повинен монтуватися з параметром <b>discard</b>, на зразок такого</p>
<xmp class="lst">UUID=897fd1c0-08d6-4d26-a9c5-f6bbfbd0227a /               ext4    discard,errors=remount-ro 0       1</xmp>
<p>Перевірити включення команди можна так</p>
<xmp class="bsh">hdparm -I /dev/sdd | grep "TRIM supported"</xmp>
<p>Результат виконання команди:</p>
<xmp class="bsh">* Data Set Management TRIM supported (limit 1 block)</xmp>
<p><b>Data Set Management TRIM supported (limit 1 block)</b> означає що технологія підтримується, <b>*</b> що <b>TRIM</b> ввімкнено.</p>
<h4>Windows</h4>
<p>Система повинна бути не старше за <term>Windows 7</term>. Перевірити включення команди можна так</p>
<xmp class="bsh">fsutil behavior query disabledeletenotify</xmp>
<p>в результаті отримаємо вивід такого типу</p>
<xmp class="bsh">NTFS DisableDeleteNotify = 0 (1, is not currently set)
ReFS DisableDeleteNotify = 0 (1, is not currently set)</xmp>
<p>що означає наступне</p>
<ol>
<li>0 - підтримку <b>TRIM</b> ввімкнено</li>
<li>1 - підтримку <b>TRIM</b> вимкнено</li>
<li><b>not currently set</b> - буде задіяно як тільки буде підключено <b>ssd</b> із даною файловою системою</li>
</ol>
<p>Ввімкнути чи вимкнути <b>TRIM</b> можна виконавши команду</p>
<xmp class="bsh">fsutil behavior set disabledeletenotify NTFS 0</xmp>
<p>Крім того для будь-якої операційної системи можна відключати чи оптимізувати вікористання файлу(розділу) підкачки, переносити на HDD(якщо він є) директорії(розділи) з тимчасовими файлами, переносити чи оптимізувати частоту записів на диск що виконують браузери в процесі роботи. Як це зробити описувалося раніше в наступних статтях:<br><br>
<a href="https://nyurch.github.io/linux/2018/03/20/linux_old-pc.html" target="_blank">Використовуємо найновіший софт на древніх ПК</a><br>
<a href="https://nyurch.github.io/%D0%BF%D1%80%D0%B8%D0%BA%D0%BB%D0%B0%D0%B4%D0%BD%D1%96%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%B8/2016/12/10/browsers-cache.html" target="_blank">Зміна місця розміщення браузерного кешу у Windows</a><br>
<a href="https://nyurch.github.io/windows/2018/03/28/windows-10-bugs.html" target="_blank">Костилі для Windows 10</a></p>
